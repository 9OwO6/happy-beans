# 新表设置说明

## 🎯 目标
删除旧的 `products` 表，创建全新的表结构，支持所有新功能。

## 📋 执行步骤

### 1. 登录 Supabase 控制台
- 访问 https://supabase.com
- 登录你的账户
- 选择你的项目

### 2. 打开 SQL Editor
- 在左侧菜单中找到 "SQL Editor"
- 点击 "New query"

### 3. 执行新表创建脚本
- 复制 `create_products_table.sql` 文件中的全部内容
- 粘贴到 SQL Editor 中
- 点击 "Run" 执行

## ✅ 新表特性

### 字段说明
- `id`: 唯一标识符（UUID）
- `name`: 产品名称（必填）
- `description`: 产品描述
- `image_url`: 主图URL
- `image_urls`: 多图URL数组
- `price`: 价格（必填，支持小数）
- `stock`: 库存数量（默认0）
- `category`: 分类名称
- `category_id`: 分类ID
- `tags`: 标签数组
- `status`: 商品状态（on=上架，off=下架）
- `created_at`: 创建时间
- `updated_at`: 更新时间

### 功能特性
- ✅ 多图上传和存储
- ✅ 分类管理
- ✅ 库存管理
- ✅ 标签系统
- ✅ 商品状态管理
- ✅ 自动时间戳
- ✅ 性能优化索引
- ✅ 行级安全策略

## 🎁 示例数据

脚本会自动插入7个示例产品，涵盖所有分类：
1. 可爱猫咪抱枕（潮流摆件）
2. 时尚帆布包（衣帽穿搭）
3. 多功能收纳盒（实用好物）
4. 玫瑰金化妆镜（颜值补给）
5. 圣诞装饰套装（节日精选）
6. 动漫手办模型（次元小铺）
7. 手工陶瓷花瓶（无用之美）

## 🔒 安全策略

- 所有人可以查看上架的商品
- 只有认证用户可以管理商品
- 支持完整的CRUD操作

## 🚀 执行后验证

执行完成后，你应该看到：
1. 表创建成功的消息
2. 7个示例产品的统计信息
3. 完整的表结构显示

## ⚠️ 注意事项

1. **数据丢失警告**：此操作会删除现有的 `products` 表及其所有数据
2. **备份建议**：如果有重要数据，请先导出备份
3. **权限检查**：确保有足够的数据库权限

## 🎉 完成后的功能

新表创建完成后，你将获得：
- ✅ 完整的多图上传功能
- ✅ 分类管理系统
- ✅ 库存管理
- ✅ 标签系统
- ✅ 更好的性能和安全性

---

**执行完成后，重新测试新增产品功能，所有特性都将正常工作！** 